프로젝트명 : RunningGame
개발기간 : 2025.09.25 ~ 2025.10.22 (약 4주)
팀원 : 총 3명
용도 : 학교 축제 부스용 인터랙티브 게임
주요 기능 : 센서 기반 속도 제어, AI와 경주, 실시간 데이터 보정

--프로젝트 개요--
이 프로젝트는 ESP32와 MPU6050 센서를 활용하여 사용자의 움직임을 실시간으로 감지하고, 이를 Pygame 기반의 경주 게임에 반영하는 인터랙티브 게임입니다.
사용자의 움직임(가속도값)에 따라 게임 캐릭터의 속도가 달라지며, 정해진 속도로 움직이는 AI 캐릭터와 경쟁하는 방식으로 진행됩니다. 
센서 데이터 수집부터 게임 구현까지의 전체 과정은 Bluetooth 및 TCP 통신으로 연결된 3단계 아키텍처를 통해 구현되었습니다.

기술 스택
하드웨어    ESP32센서  - 데이터 수집 및 Bluetooth 송신 담당.
센서       MPU-6050(가속도계) - 데이터 측정.
게임 개발   Pygame2D - 그래픽 및 게임 엔진.
통신       Bluetooth (BLE/SPP)ESP32 - Python 서버 (raw센서값 전송).
통신       TCP/IP SocketPython 서버 - Pygame 클라이언트 (보정된 센서값 전송).
주요 언어   Python 3.12.7 - 서버 로직, 데이터 보정, 게임 클라이언트 구현. 

시스템 아키텍쳐
프로젝트는 센서 하드웨어, 데이터 처리 서버, 게임 클라이언트의 3단계로 구성됩니다.

하드웨어 (ESP32 + MPU6050) : MPU6050에서 읽은 가속도 및 데이터를 ESP32가 수집하여 Bluetooth를 통해 Python 서버로 전송합니다.
데이터 서버 (Python) : Bluetooth를 통해 수신한 raw 센서값에 이동평균 필터를 적용하여 노이즈를 제거합니다. 보정된 값은 플레이어의 게임 속도로 변환되어 TCP 소켓을 통해 Pygame으로 전달됩니다.
게임 클라이언트 (Pygame) : TCP로 받은 속도 데이터를 바탕으로 플레이어 캐릭터를 실시간으로 이동시키고, AI 캐릭터와 경주를 진행하며 승패를 판정합니다.

--실행환경 및 설치--
1. 아두이노 설정 : Arduino IDL에 eps32 dev module과 mpu6050라이브러리를 설치합니다.
                Arduino폴더 안의 Arduino1.ion이나 Arduino2.ion파일을 업로드 합니다.(숫자는 블루투스 이름만 차이납니다.)
                시리얼 모니터를 통해 정상적으로 센서값이 출력되는지 확인합니다.

2. 소프트웨어 설치 : pip install pygame
                  pip install bleak

3. 실행 순서 : esp32보드에 배터리를 연결합니다.
             프로젝트 루트폴더에 server.bat파일을 실행합니다.
             cmd창에 연결이 완료됬다고 뜨면 game.bat파일을 실행합니다.

4. 게임 제어 : ESC키를 눌러 게임을 종료할 수 있습니다.
             게임이 끝난 후 ENTER를 눌러 재시작 할 수 있습니다.
             결과화면에서 LEFT_SHIFT + ENTER로 랭킹을 초기화 할 수 있습니다.